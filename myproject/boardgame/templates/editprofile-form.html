{% extends 'layout.html' %} 
{% load static %}
{% load crispy_forms_tags %}

{% block title %}โปรไฟล์{% endblock title %}
{% block styles %}
<style>
    body{
        overflow-y: hidden;
    }
</style>
{% endblock styles %}

{% block navbar %}
    <div class="container mt-3">
        <a class="navbar-brand " href="{% url 'index' %}">
            <i class="bi bi-arrow-left-square ms-2"></i> 
            <span> ย้อนกลับ</span>
        </a>
    </div>
{% endblock navbar%}

{% block content %}
<div class="container">
    <div class="intro2">
        <h1>Edit Profile</h1>
    </div>
    <div class="space-form">
        <form action="{% url 'profile_edit' %}" method="post">
            {% csrf_token %}


            <div class="group">
                <div class="info-box">
                    {{ form.username|as_crispy_field }}
                </div>
                <div class="info-box">
                    {{ form.phone_number|as_crispy_field }}
                    <!-- {{ form.phone_number.errors }} 
                      crispy จะแสดงผล validation errors ให้อัตโนมัติ ไม่ต้องกำหนด -->
                </div>
            </div>
            <div class="group">
                <div class="info-box">
                    {{ form.first_name|as_crispy_field }}
                </div>
                <div class="info-box">
                    {{ form.last_name|as_crispy_field }}
                </div>
            </div>
            <div class="group">
                <div class="info-box">
                    {{ form.gender|as_crispy_field }}
                </div>
                <div class="info-box">
                    {{ form.birth_date|as_crispy_field }}
                </div>
            </div>
            <div class="info-box">
                {{ form.email|as_crispy_field  }}
                <!-- {{ form.email.errors }} -->
            </div>
            <div class="info-box2-2">
                <a href="{% url 'profile' %}" class="btn btn-secondary" style="width: 100%;">cancel</a>
                <a href="{% url 'change_password' %}" class="but">change password</a>
                <button class="but">save</button>
            </div>
        </form>
    </div>
</div>
{% endblock content %}
{% block footer %}
{% endblock footer %}